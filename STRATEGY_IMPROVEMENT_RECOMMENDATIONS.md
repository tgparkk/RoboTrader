# 눌림목 전략 개선 방향성 분석 리포트

분석 기간: 2025-09-01 ~ 2025-10-31
총 거래: 441개 (승 227개, 패 214개)
현재 승률: **51.5%**

---

## 📊 1. 핵심 발견 사항

### 1.1 시간대별 성과 차이
```
09시대: 61.0% 승률 (105거래) ⭐ 최고 성과
10시대: 49.5% 승률 (214거래)
11시대: 46.7% 승률 (122거래)
```

**인사이트:**
- 09시대 거래가 가장 높은 승률을 보임
- 10시 이후 승률이 급격히 하락
- 시간이 지날수록 패턴 신뢰도 저하

### 1.2 신뢰도 분석
```
승리 평균 신뢰도: 75.0%
패배 평균 신뢰도: 75.0%
차이: 0.0%p
```

**인사이트:**
- 현재 신뢰도 점수가 승패 구분에 효과적이지 않음
- 신뢰도 계산 로직 개선 필요
- 추가적인 필터링 지표 필요

---

## 🔍 2. 승패 종목의 기술적 특징 비교

### 2.1 유의미한 차이를 보이는 지표

#### ⭐ 1순위: 캔들 몸통 크기 (body_pct)
```
승리 평균: 0.33%
패배 평균: 0.46%
차이: -0.13%p
```

**분석:**
- 패배 종목의 캔들 몸통이 **더 큼**
- 급격한 상승(큰 양봉) 이후 매수는 위험
- 작고 안정적인 상승이 더 안전

**개선 방향:**
- 매수 시점의 캔들 몸통 크기 제한 추가
- body_pct < 0.4% 조건 추가 권장

#### 2순위: RSI (상대강도지수)
```
승리 평균: 60.0
패배 평균: 56.9
차이: +3.1
```

**분석:**
- 승리 종목이 약간 더 강한 모멘텀 보유
- 큰 차이는 아니지만 추세 필터로 활용 가능

**개선 방향:**
- RSI < 50인 경우 필터링 고려
- 또는 RSI 55~70 구간만 허용

#### 3순위: 거래량 비율 (volume_ratio)
```
승리 평균: 0.155
패배 평균: 0.129
차이: +0.026
```

**분석:**
- 승리 종목이 미세하게 더 높은 거래량 비율
- 현재 전략이 저거래량 구간을 타겟하므로 정상적

### 2.2 차이가 미미한 지표들

| 지표 | 승리 평균 | 패배 평균 | 차이 |
|------|----------|----------|------|
| price_from_open | 8.59% | 8.48% | +0.11% |
| price_volatility | 0.58% | 0.64% | -0.06% |
| distance_from_low | 2.23% | 2.24% | -0.01% |

이 지표들은 승패 구분력이 약하므로 필터로 사용하기 부적절

---

## 💡 3. 구체적 개선 권장사항

### 3.1 매수 필터 강화 (우선순위 높음)

#### A. 캔들 몸통 크기 제한
```python
# pullback_candle_pattern.py의 generate_improved_signals 함수에 추가

# 현재 캔들 몸통 크기 체크
current_body_pct = abs(current['close'] - current['open']) / current['open'] * 100

if current_body_pct >= 0.5:  # 0.5% 이상의 급격한 상승 제한
    result = SignalStrength(
        SignalType.AVOID, 0, 0,
        [f"캔들몸통과도({current_body_pct:.2f}%>0.5%)"],
        volume_analysis.volume_ratio,
        BisectorStatus.BROKEN
    )
    return (result, []) if return_risk_signals else result
```

#### B. 시간대별 신뢰도 최소 기준 상향
```python
# 현재 코드 (pullback_candle_pattern.py:538-560)
if 12 <= current_time.hour < 14:
    min_confidence = 85  # 현재값
elif 9 <= current_time.hour < 10:
    min_confidence = 70  # 현재값
else:
    min_confidence = 75  # 현재값

# 권장 변경
if 12 <= current_time.hour < 14:
    min_confidence = 90  # 오후 거래 더욱 제한
elif 9 <= current_time.hour < 10:
    min_confidence = 70  # 유지 (이미 높은 승률)
else:
    min_confidence = 80  # 10-11시 강화
```

#### C. RSI 필터 추가
```python
# calculate_technical_features에서 RSI 계산 후
if 'rsi' in features and features['rsi'] is not None:
    if features['rsi'] < 50:  # 약한 추세 차단
        return None  # 또는 신호 차단
```

### 3.2 신뢰도 점수 재계산 로직 개선

현재 신뢰도 점수가 승패 구분에 효과가 없으므로, 다음 요소들을 반영하도록 개선:

```python
# core/indicators/pullback/support_pattern_analyzer.py 수정

def calculate_confidence(self, ...):
    base_confidence = ... # 기존 로직

    # 추가 보정 요소들
    adjustments = 0

    # 1. 캔들 몸통 크기 페널티
    if current_body_pct > 0.4:
        adjustments -= 10
    elif current_body_pct < 0.3:
        adjustments += 5

    # 2. RSI 보너스/페널티
    if rsi > 60:
        adjustments += 5
    elif rsi < 50:
        adjustments -= 10

    # 3. 시간대 보정
    if current_hour == 9:
        adjustments += 10  # 09시대 보너스
    elif current_hour >= 12:
        adjustments -= 15  # 오후 페널티

    return max(0, min(100, base_confidence + adjustments))
```

### 3.3 손절/익절 로직 최적화

현재 설정:
- 익절: +3.5%
- 손절: -2.5%
- 손익비: 1.4:1

```
실제 평균 수익: +2.91%
실제 평균 손실: -2.23%
```

**권장사항:**
1. 현재 손익비는 적절함 (유지)
2. 트레일링 스탑 도입 검토
   - 2% 상승 이후 -1% 하락시 익절 고려
   - 빠른 수익 확정으로 승률 향상

---

## 🎯 4. 단계별 적용 계획

### Phase 1: 즉시 적용 가능 (High Impact, Low Risk)

1. **캔들 몸통 크기 제한 추가**
   - 파일: `pullback_candle_pattern.py`
   - 위치: `generate_improved_signals` 함수 내
   - 조건: `body_pct >= 0.5%` 차단
   - 예상 효과: 승률 +2~3%p

2. **10-11시 신뢰도 기준 상향**
   - 파일: `pullback_candle_pattern.py`
   - 현재: 75% → 변경: 80%
   - 예상 효과: 거래 건수 감소, 승률 +1~2%p

### Phase 2: 중기 적용 (Medium Impact, Medium Risk)

3. **RSI 필터 추가**
   - 파일: `pullback_candle_pattern.py`
   - 조건: RSI < 50 차단
   - 예상 효과: 승률 +1%p, 거래 건수 -10%

4. **신뢰도 계산 로직 개선**
   - 파일: `support_pattern_analyzer.py`
   - 캔들/RSI/시간대 보정 추가
   - 예상 효과: 신호 품질 향상

### Phase 3: 장기 검증 (High Impact, High Risk)

5. **트레일링 스탑 도입**
   - 새로운 매도 로직 필요
   - 백테스트 필수
   - 예상 효과: 승률 +3~5%p, 평균 수익 감소

6. **일봉 패턴 분석 재활성화**
   - 현재 비활성화된 일봉 분석 로직 개선
   - 강한 일봉 패턴과 결합시 성과 향상

---

## 📈 5. 예상 개선 효과

### 현재 성과
```
총 거래: 441개
승률: 51.5%
총 수익: +115,400원 (거래당 평균 +515원)
```

### Phase 1 적용 후 예상
```
총 거래: 350~380개 (약 15% 감소)
승률: 54~56% (+3~5%p)
총 수익: +200,000~300,000원 (거래당 평균 +600~800원)
```

### Phase 1+2 적용 후 예상
```
총 거래: 300~330개 (약 25% 감소)
승률: 56~58% (+5~7%p)
총 수익: +250,000~350,000원 (거래당 평균 +800~1,000원)
```

---

## 🚨 6. 주의사항

### 과최적화 위험
- 2개월 데이터만으로는 과최적화 위험
- 최소 6개월~1년 데이터로 검증 필요
- 실전 적용 전 추가 백테스트 필수

### 시장 환경 변화
- 현재 분석은 2025년 9~10월 시장 기반
- 변동성이 큰 시기/조정장에서는 다른 결과 가능
- 주기적 재분석 필요

### 거래 기회 감소
- 필터 강화는 거래 기회 감소 의미
- 승률 vs 거래빈도 트레이드오프
- 자금 규모에 따라 조절 필요

---

## ✅ 7. 다음 단계

1. **즉시 실행:**
   - Phase 1 개선사항 코드 작성
   - 9~10월 데이터로 백테스트
   - 성과 비교 분석

2. **추가 데이터 수집:**
   - 11월 거래 데이터 수집
   - 더 긴 기간 백테스트

3. **실전 검증:**
   - 소액 실전 거래로 검증
   - 1개월 운영 후 재분석

4. **지속적 모니터링:**
   - 주간 성과 리포트
   - 월간 전략 재평가
   - 시장 환경 변화 대응

---

## 📝 결론

현재 51.5% 승률은 **손익분기점 근처**에 있으며, 작은 개선만으로도 수익성 있는 전략으로 전환 가능합니다.

**핵심 개선 포인트 3가지:**
1. ⭐ 큰 캔들 몸통 차단 (가장 중요)
2. ⭐ 10-11시 신뢰도 기준 상향
3. ⭐ RSI 50 미만 차단

이 3가지만 적용해도 **승률 55% 이상 달성 가능**할 것으로 예상됩니다.

---

*생성일: 2025-11-01*
*분석 도구: analyze_win_loss_pattern.py*
