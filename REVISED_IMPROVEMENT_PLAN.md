# ìˆ˜ì •ëœ ì „ëµ ê°œì„  ê³„íš

**ë¶„ì„ ê²°ê³¼ ì—…ë°ì´íŠ¸:** 12ì‹œ ì´í›„ëŠ” ì´ë¯¸ ì‹ ë¢°ë„ ê¸°ì¤€ìœ¼ë¡œ ì œí•œ ì¤‘
**ë¶„ì„ ê¸°ê°„:** 2025-09-01 ~ 2025-10-31
**ì´ ê±°ë˜:** 520ê°œ (ìŠ¹ë¥  50.4%, ìˆ˜ìµ 160ë§Œì›)

---

## ğŸ“Š 1. í˜„ì¬ ì‹œê°„ëŒ€ë³„ ì„¤ì • vs ì‹¤ì œ ì„±ê³¼

### í˜„ì¬ ì½”ë“œ ì„¤ì •
```python
09ì‹œ: min_confidence = 70 (65~80 ë²”ìœ„)
10-11ì‹œ: min_confidence = 75 (70~85 ë²”ìœ„)
12-14ì‹œ: min_confidence = 85 (80~95 ë²”ìœ„)
14ì‹œ ì´í›„: min_confidence = 75 (70~85 ë²”ìœ„)  # else ì¡°ê±´
```

### ì‹¤ì œ ì„±ê³¼
```
09ì‹œ: 61.0% ìŠ¹ë¥  (105ê±°ë˜) â­â­â­
10ì‹œ: 49.5% ìŠ¹ë¥  (214ê±°ë˜)
11ì‹œ: 46.7% ìŠ¹ë¥  (122ê±°ë˜)
12ì‹œ: 37.5% ìŠ¹ë¥  (8ê±°ë˜)   # 85% ê¸°ì¤€ì¸ë°ë„ ê±°ë˜ ë°œìƒ
14ì‹œ: 45.7% ìŠ¹ë¥  (70ê±°ë˜)  # 75% ê¸°ì¤€ì´ë¼ ë§ì€ ê±°ë˜
15ì‹œ: 0.0%  ìŠ¹ë¥  (1ê±°ë˜)
```

**ë¬¸ì œì :**
1. 12ì‹œ ì´í›„ 85% ê¸°ì¤€ì¸ë°ë„ ì˜¤í›„ 79ê°œ ê±°ë˜ ë°œìƒ (ì¼ë´‰ ì™„í™” ì¡°ê±´ ë•Œë¬¸)
2. 14ì‹œ ì´í›„ê°€ `else` ì¡°ê±´ì— ê±¸ë ¤ì„œ 75%ë¡œ ì²˜ë¦¬ë¨ (ë„ˆë¬´ ê´€ëŒ€)
3. ì˜¤í›„ ê±°ë˜ 79ê°œ ì¤‘ 35ìŠ¹ 44íŒ¨ (44% ìŠ¹ë¥ ) â†’ **í° ì†ì‹¤**

---

## ğŸ¯ 2. í•µì‹¬ ê°œì„  í¬ì¸íŠ¸ (ìš°ì„ ìˆœìœ„)

### ìš°ì„ ìˆœìœ„ 1: ìº”ë“¤ ëª¸í†µ í¬ê¸° ì œí•œ â­â­â­
**ê·¼ê±°:**
- ìŠ¹ë¦¬: body_pct 0.33% / íŒ¨ë°°: 0.45% (37% ì°¨ì´)
- ê°€ì¥ ëª…í™•í•œ ì°¨ì´ì 

**ì ìš© ë°©ë²•:**
```python
# pullback_candle_pattern.pyì˜ generate_improved_signals í•¨ìˆ˜
# ì‹œê°€ ëŒ€ë¹„ 2% ìƒìŠ¹ ì²´í¬ ë¸”ë¡ ì´í›„ì— ì¶”ê°€

# 5. ìº”ë“¤ ëª¸í†µ í¬ê¸° ì œí•œ
current_open = float(current['open'])
current_close = float(current['close'])
current_body_pct = abs(current_close - current_open) / current_open * 100 if current_open > 0 else 0

if current_body_pct >= 0.5:  # 0.5% ì´ìƒ ê¸‰ë“± ì°¨ë‹¨
    result = SignalStrength(
        SignalType.AVOID, 0, 0,
        [f"ìº”ë“¤ëª¸í†µê³¼ë„({current_body_pct:.2f}%â‰¥0.5%)"],
        volume_analysis.volume_ratio,
        BisectorStatus.BROKEN
    )
    return (result, []) if return_risk_signals else result
```

**ì˜ˆìƒ íš¨ê³¼:** ìŠ¹ë¥  +2~3%p, ì•½ 26ê°œ ê±°ë˜ ì°¨ë‹¨

---

### ìš°ì„ ìˆœìœ„ 2: ì˜¤í›„ ì‹œê°„ëŒ€ ê°•í™” â­â­â­
**ê·¼ê±°:**
- ì˜¤í›„(12-15ì‹œ) 79ê°œ ê±°ë˜, ìŠ¹ë¥  44% â†’ **-110ë§Œì› ì†ì‹¤**
- í˜„ì¬ 14ì‹œ ì´í›„ê°€ `else`ë¡œ ë¹ ì ¸ì„œ 75% ê¸°ì¤€ ì ìš© ì¤‘

**ìˆ˜ì • ë°©ë²•:**
```python
# ê¸°ì¡´ ì½”ë“œ (pullback_candle_pattern.py:538-559)
if 12 <= current_time.hour < 14:  # ì˜¤í›„ì‹œê°„
    min_confidence = 85
    if daily_strength < 60:
        min_confidence = 95
    elif is_ideal_daily:
        min_confidence = 80  # â† ì´ ì™„í™”ê°€ ë¬¸ì œ!

# ìˆ˜ì • í›„
if current_time.hour >= 12:  # 12ì‹œ ì´í›„ ì „ì²´ ê°•í™”
    min_confidence = 90  # 85 â†’ 90 ìƒí–¥
    if daily_strength < 60:
        min_confidence = 95  # ìœ ì§€
    elif is_ideal_daily:
        min_confidence = 90  # 80 â†’ 90 (ì™„í™” ì œê±°)
```

**ì˜ˆìƒ íš¨ê³¼:** ìŠ¹ë¥  +3~4%p, ì˜¤í›„ ê±°ë˜ ì•½ 50ê°œ ì°¨ë‹¨

---

### ìš°ì„ ìˆœìœ„ 3: 10-11ì‹œ ê¸°ì¤€ ìƒí–¥ â­â­
**ê·¼ê±°:**
- 10ì‹œ: 49.5% ìŠ¹ë¥  (ì†ì‹¤)
- 11ì‹œ: 46.7% ìŠ¹ë¥  (í° ì†ì‹¤)
- í˜„ì¬ 75% ê¸°ì¤€ìœ¼ë¡œ ë„ˆë¬´ ë§ì€ ê±°ë˜ ë°œìƒ

**ìˆ˜ì • ë°©ë²•:**
```python
# ê¸°ì¡´ ì½”ë“œ
else:  # ì˜¤ì „/ëŠ¦ì€ì‹œê°„
    min_confidence = 75
    if is_ideal_daily and daily_strength >= 70:
        min_confidence = 70  # ì™„í™”
    elif daily_strength < 50:
        min_confidence = 85  # ê°•í™”

# ìˆ˜ì • í›„
elif 10 <= current_time.hour < 12:  # 10-11ì‹œ ëª…ì‹œ
    min_confidence = 80  # 75 â†’ 80 ìƒí–¥
    if is_ideal_daily and daily_strength >= 70:
        min_confidence = 75  # 70 â†’ 75 (ì™„í™” ì¶•ì†Œ)
    elif daily_strength < 50:
        min_confidence = 85  # ìœ ì§€
```

**ì˜ˆìƒ íš¨ê³¼:** ìŠ¹ë¥  +1~2%p, ì•½ 67ê°œ ê±°ë˜ ì°¨ë‹¨

---

### ìš°ì„ ìˆœìœ„ 4: RSI í•„í„° ì¶”ê°€ â­
**ê·¼ê±°:**
- ìŠ¹ë¦¬: RSI 59.4 / íŒ¨ë°°: RSI 56.4
- ì•½í•œ ëª¨ë©˜í…€ ì°¨ë‹¨ í•„ìš”

**ì ìš© ìœ„ì¹˜:**
- `calculate_technical_features` í•¨ìˆ˜ì—ì„œ RSI ê³„ì‚°ì€ ì´ë¯¸ ë˜ê³  ìˆìŒ
- `generate_improved_signals` í•¨ìˆ˜ì— í•„í„° ì¶”ê°€ í•„ìš”

**ìˆ˜ì • ë°©ë²•:**
```python
# 4ë‹¨ê³„ ì§€ì§€ íŒ¨í„´ ë¶„ì„ ì§ì „ì— ì¶”ê°€
# RSI ê³„ì‚°
if len(data_until_buy) >= 15:
    closes = data_until_buy['close'].tail(15)
    deltas = closes.diff()
    gain = deltas.where(deltas > 0, 0).rolling(window=14).mean()
    loss = -deltas.where(deltas < 0, 0).rolling(window=14).mean()
    rs = gain / loss
    rsi = (100 - (100 / (1 + rs))).iloc[-1] if not rs.iloc[-1] == 0 else 50

    if rsi < 50:  # RSI 50 ë¯¸ë§Œ ì°¨ë‹¨
        result = SignalStrength(
            SignalType.AVOID, 0, 0,
            [f"ì•½í•œëª¨ë©˜í…€(RSI{rsi:.0f}<50)"],
            volume_analysis.volume_ratio,
            BisectorStatus.BROKEN
        )
        return (result, []) if return_risk_signals else result
```

**ì˜ˆìƒ íš¨ê³¼:** ìŠ¹ë¥  +1%p, ì•½ 26ê°œ ê±°ë˜ ì°¨ë‹¨

---

## ğŸ“ˆ 3. ì˜ˆìƒ ê°œì„  íš¨ê³¼

### ì‹œë‚˜ë¦¬ì˜¤ 1: ìš°ì„ ìˆœìœ„ 1+2ë§Œ ì ìš©
```
í˜„ì¬:
- 520ê°œ ê±°ë˜, ìŠ¹ë¥  50.4%, ìˆ˜ìµ 160ë§Œì›

ì ìš© í›„:
- 440ê°œ ê±°ë˜ (-80ê°œ, -15%)
- ìŠ¹ë¥  54~55% (+4~5%p)
- ìˆ˜ìµ 220~250ë§Œì› (+40~60%)
- ê±°ë˜ë‹¹ í‰ê·  5,000~5,700ì› (+50%)
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ìš°ì„ ìˆœìœ„ 1+2+3 ì ìš©
```
í˜„ì¬:
- 520ê°œ ê±°ë˜, ìŠ¹ë¥  50.4%, ìˆ˜ìµ 160ë§Œì›

ì ìš© í›„:
- 370ê°œ ê±°ë˜ (-150ê°œ, -29%)
- ìŠ¹ë¥  56~57% (+6~7%p)
- ìˆ˜ìµ 250~280ë§Œì› (+60~80%)
- ê±°ë˜ë‹¹ í‰ê·  6,800~7,600ì› (+110%)
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: ì „ì²´ ì ìš© (1+2+3+4)
```
í˜„ì¬:
- 520ê°œ ê±°ë˜, ìŠ¹ë¥  50.4%, ìˆ˜ìµ 160ë§Œì›

ì ìš© í›„:
- 340~350ê°œ ê±°ë˜ (-170ê°œ, -33%)
- ìŠ¹ë¥  57~58% (+7~8%p)
- ìˆ˜ìµ 260~300ë§Œì› (+65~90%)
- ê±°ë˜ë‹¹ í‰ê·  7,500~8,500ì› (+130%)
```

---

## ğŸš€ 4. ë‹¨ê³„ë³„ ì ìš© ê³„íš

### Step 1: ê°€ì¥ ì‰¬ìš´ ê²ƒë¶€í„° (ì˜¤ëŠ˜!)

**1-1. ì˜¤í›„ ì‹œê°„ëŒ€ ê°•í™”**
- íŒŒì¼: `pullback_candle_pattern.py`
- ë¼ì¸: 539-545
- ìˆ˜ì •: `if 12 <= current_time.hour < 14:` â†’ `if current_time.hour >= 12:`
- ìˆ˜ì •: `min_confidence = 85` â†’ `90`
- ìˆ˜ì •: ì¼ë´‰ ì™„í™” ì¡°ê±´ `80` â†’ `90`
- ì˜ˆìƒ ì‹œê°„: 5ë¶„

**1-2. ìº”ë“¤ ëª¸í†µ ì œí•œ**
- íŒŒì¼: `pullback_candle_pattern.py`
- ìœ„ì¹˜: ë¼ì¸ ~505 (ì‹œê°€ ëŒ€ë¹„ 22% ìƒìŠ¹ ì²´í¬ ì´í›„)
- ì¶”ê°€: ìœ„ì— ì œì‹œí•œ ì½”ë“œ ë¸”ë¡
- ì˜ˆìƒ ì‹œê°„: 5ë¶„

### Step 2: ì¡°ê¸ˆ ë” ê°œì„  (ì´ë²ˆ ì£¼)

**2-1. 10-11ì‹œ ê¸°ì¤€ ìƒí–¥**
- íŒŒì¼: `pullback_candle_pattern.py`
- ë¼ì¸: 553-559
- ìˆ˜ì •: `else:` â†’ `elif 10 <= current_time.hour < 12:`
- ìˆ˜ì •: `min_confidence = 75` â†’ `80`
- ì˜ˆìƒ ì‹œê°„: 5ë¶„

### Step 3: ì‹¬í™” ê°œì„  (ë‹¤ìŒ ì£¼)

**3-1. RSI í•„í„° ì¶”ê°€**
- íŒŒì¼: `pullback_candle_pattern.py`
- ìœ„ì¹˜: ë¼ì¸ ~507 (4ë‹¨ê³„ íŒ¨í„´ ë¶„ì„ ì§ì „)
- ì¶”ê°€: ìœ„ì— ì œì‹œí•œ RSI ê³„ì‚° ë° í•„í„° ì½”ë“œ
- ì˜ˆìƒ ì‹œê°„: 10ë¶„

---

## ğŸ“ 5. ì½”ë“œ ìˆ˜ì • ìš”ì•½

### ìˆ˜ì • 1: ì˜¤í›„ ì‹œê°„ëŒ€ ê°•í™” (ë¼ì¸ 539-545)

**Before:**
```python
if 12 <= current_time.hour < 14:  # ì˜¤í›„ì‹œê°„ (ìŠ¹ë¥  29.6%)
    min_confidence = 85
    # ì˜¤í›„ì‹œê°„ ì¼ë´‰ ê°•í™” ì¡°ê±´
    if daily_strength < 60:  # ì•½í•œ ì¼ë´‰ íŒ¨í„´
        min_confidence = 95  # ê±°ì˜ ë¶ˆê°€ëŠ¥í•œ ì¡°ê±´
    elif is_ideal_daily:  # ì´ìƒì  ì¼ë´‰ íŒ¨í„´
        min_confidence = 80  # ì•½ê°„ ì™„í™”
```

**After:**
```python
if current_time.hour >= 12:  # 12ì‹œ ì´í›„ ì „ì²´ ê°•í™”
    min_confidence = 90  # 85 â†’ 90
    # ì˜¤í›„ì‹œê°„ ì¼ë´‰ ê°•í™” ì¡°ê±´
    if daily_strength < 60:  # ì•½í•œ ì¼ë´‰ íŒ¨í„´
        min_confidence = 95  # ìœ ì§€
    elif is_ideal_daily:  # ì´ìƒì  ì¼ë´‰ íŒ¨í„´
        min_confidence = 90  # 80 â†’ 90 (ì™„í™” ì œê±°)
```

### ìˆ˜ì • 2: 10-11ì‹œ ëª…ì‹œ ë° ê°•í™” (ë¼ì¸ 553-559)

**Before:**
```python
else:  # ì˜¤ì „/ëŠ¦ì€ì‹œê°„
    min_confidence = 75
    # ì¼ë°˜ ì‹œê°„ëŒ€ ì¼ë´‰ ì¡°ê±´
    if is_ideal_daily and daily_strength >= 70:  # ì´ìƒì ì´ê³  ê°•í•œ íŒ¨í„´
        min_confidence = 70  # ì™„í™”
    elif daily_strength < 50:  # ì•½í•œ ì¼ë´‰ íŒ¨í„´
        min_confidence = 85  # ê°•í™”
```

**After:**
```python
elif 10 <= current_time.hour < 12:  # 10-11ì‹œ ëª…ì‹œ
    min_confidence = 80  # 75 â†’ 80
    # 10-11ì‹œ ì¼ë´‰ ì¡°ê±´
    if is_ideal_daily and daily_strength >= 70:
        min_confidence = 75  # 70 â†’ 75 (ì™„í™” ì¶•ì†Œ)
    elif daily_strength < 50:
        min_confidence = 85  # ìœ ì§€
else:  # ê¸°íƒ€ ì‹œê°„ (ê±°ì˜ ë°œìƒ ì•ˆí•¨)
    min_confidence = 85  # ì•ˆì „í•˜ê²Œ ë†’ê²Œ ì„¤ì •
```

### ìˆ˜ì • 3: ìº”ë“¤ ëª¸í†µ ì œí•œ (ë¼ì¸ ~505 ì¶”ê°€)

```python
# 5. ìº”ë“¤ ëª¸í†µ í¬ê¸° ì œí•œ (ê¸‰ê²©í•œ ìƒìŠ¹ ì°¨ë‹¨)
current_open = float(current['open'])
current_close = float(current['close'])
current_body_pct = abs(current_close - current_open) / current_open * 100 if current_open > 0 else 0

if current_body_pct >= 0.5:  # 0.5% ì´ìƒì˜ ê¸‰ê²©í•œ ìƒìŠ¹ ì°¨ë‹¨
    result = SignalStrength(
        SignalType.AVOID, 0, 0,
        [f"ìº”ë“¤ëª¸í†µê³¼ë„({current_body_pct:.2f}%â‰¥0.5%)"],
        volume_analysis.volume_ratio,
        BisectorStatus.BROKEN
    )
    return (result, []) if return_risk_signals else result
```

---

## âœ… 6. ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì¦‰ì‹œ ì ìš© (ì˜¤ëŠ˜)
- [ ] `pullback_candle_pattern.py` íŒŒì¼ ë°±ì—…
- [ ] ìˆ˜ì • 1: ì˜¤í›„ ì‹œê°„ëŒ€ ê°•í™” (ë¼ì¸ 539-545)
- [ ] ìˆ˜ì • 2: ìº”ë“¤ ëª¸í†µ ì œí•œ ì¶”ê°€ (ë¼ì¸ ~505)
- [ ] ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- [ ] ê²°ê³¼ í™•ì¸ (ëª©í‘œ: ìŠ¹ë¥  54% ì´ìƒ, ìˆ˜ìµ 220ë§Œì› ì´ìƒ)

### ì´ë²ˆ ì£¼ ì ìš©
- [ ] ìˆ˜ì • 3: 10-11ì‹œ ê¸°ì¤€ ìƒí–¥ (ë¼ì¸ 553-559)
- [ ] ë°±í…ŒìŠ¤íŠ¸ ì¬ì‹¤í–‰
- [ ] ê²°ê³¼ í™•ì¸ (ëª©í‘œ: ìŠ¹ë¥  56% ì´ìƒ, ìˆ˜ìµ 250ë§Œì› ì´ìƒ)

### ë‹¤ìŒ ì£¼ ì ìš©
- [ ] ìˆ˜ì • 4: RSI í•„í„° ì¶”ê°€ (ë¼ì¸ ~507)
- [ ] ìµœì¢… ë°±í…ŒìŠ¤íŠ¸
- [ ] ê²°ê³¼ í™•ì¸ (ëª©í‘œ: ìŠ¹ë¥  57% ì´ìƒ, ìˆ˜ìµ 260ë§Œì› ì´ìƒ)
- [ ] 11ì›” ë°ì´í„°ë¡œ ê²€ì¦

---

## ğŸ’¡ 7. í•µì‹¬ ìš”ì•½

**ê°€ì¥ í° ë¬¸ì œ:**
- ì˜¤í›„ ê±°ë˜ 79ê°œ (44% ìŠ¹ë¥ ) â†’ **-110ë§Œì› ì†ì‹¤ ì¶”ì •**
- 10-11ì‹œ ê±°ë˜ 336ê°œ (48% ìŠ¹ë¥ ) â†’ ì†ìµë¶„ê¸°ì 

**ê°€ì¥ íš¨ê³¼ì ì¸ ê°œì„  2ê°€ì§€:**
1. â­â­â­ ì˜¤í›„ ì‹œê°„ëŒ€ ê°•í™” (90% ê¸°ì¤€ìœ¼ë¡œ ìƒí–¥)
2. â­â­â­ ìº”ë“¤ ëª¸í†µ ì œí•œ (0.5% ì´ìƒ ì°¨ë‹¨)

**ì˜ˆìƒ ê²°ê³¼:**
- ìŠ¹ë¥ : 50.4% â†’ **56~57%**
- ìˆ˜ìµ: 160ë§Œì› â†’ **250~280ë§Œì›**
- ê±°ë˜ë‹¹ í‰ê· : 3,249ì› â†’ **6,800~7,600ì›**

---

*ì‘ì„±ì¼: 2025-11-01*
*ê¸°ë°˜: FINAL_WIN_LOSS_ANALYSIS.md*
*ìƒíƒœ: ì¦‰ì‹œ ì ìš© ê°€ëŠ¥*
